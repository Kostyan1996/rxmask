!function(t){var s={};function i(o){if(s[o])return s[o].exports;var e=s[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=s,i.d=function(t,s,o){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)i.d(o,e,function(s){return t[s]}.bind(null,e));return o},i.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="",i(i.s=0)}([function(t,s,i){"use strict";i.r(s),i.d(s,"default",(function(){return o}));class o{constructor(t={},s){this.options={mask:"",placeholderSymbol:"*",rxmask:[],value:"",cursorPos:0,allowedCharacters:".",showMask:0,trailing:!0},this._output="",this._prevValue="",this._isRemovingSymbols=!1,this._actualCursorPos=0,this._finalCursorPos=0,this.input=s,this.setOptions(t),this.input?this.onInput():this.parseMask()}get output(){return this._output}get finalCursorPos(){return this._finalCursorPos}setOptions({mask:t="",placeholderSymbol:s="*",rxmask:i="",allowedCharacters:o=".",showMask:e="0",trailing:r="true",value:n="",cursorPos:l=-1}){this.options.mask=t,this.options.placeholderSymbol=s,this.options.rxmask=this.strToRxmask(i),this.options.allowedCharacters=o,this.options.showMask="true"===e?1/0:Number(e),this.options.trailing="true"===r,this.options.value=n,this.options.cursorPos=l,0===this.options.rxmask.length&&(this.options.rxmask=this.options.mask.split("").map(t=>t===this.options.placeholderSymbol?"[^]":t))}parseOptionsFromInput(){this.input&&(this.options.mask=this.parseNull(this.input.getAttribute("mask"))||this.options.mask,this.options.placeholderSymbol=this.parseNull(this.input.getAttribute("placeholderSymbol"))||this.options.placeholderSymbol,this.options.rxmask=this.parseNull(this.input.getAttribute("rxmask"))||this.options.rxmask,this.options.allowedCharacters=this.parseNull(this.input.getAttribute("allowedCharacters"))||this.options.allowedCharacters,this.options.showMask=null!==this.input.getAttribute("showMask")?"true"===this.input.getAttribute("showMask")?1/0:Number(this.input.getAttribute("showMask")):this.options.showMask,this.options.trailing=null!==this.input.getAttribute("trailing")?"true"===this.input.getAttribute("trailing"):this.options.trailing,this.options.value=this.parseNull(this.input.value),this.options.cursorPos=this.parseNull(this.input.selectionStart),0===this.options.rxmask.length&&(this.options.rxmask=this.options.mask.split("").map(t=>t===this.options.placeholderSymbol?"[^]":t)))}onInput(){this.parseOptionsFromInput(),this.parseMask(),this.input&&(this.input.value=this.output,this.input.setSelectionRange(this.finalCursorPos,this.finalCursorPos))}parseMask(){const t=this.parseOutMask(),s=this.parseRxmask(t);this._output=this.getOutput(s),this._prevValue=this._output}parseOutMask(){const{value:t,cursorPos:s,rxmask:i,placeholderSymbol:o,allowedCharacters:e}=this.options,r=t.length-this._prevValue.length;this._isRemovingSymbols=!(r>=0);let n="";for(let l=s;l<t.length;l++)t[l]!==i[l-r]&&t[l]!==o&&t[l].match(e)&&(n+=t[l]);let l="";for(let r=0;r<s;r++)t[r]!==i[r]&&t[r]!==o&&t[r].match(e)&&l.length<i.filter(t=>t.match(/\[.*\]/)).length-n.length&&(l+=t[r]);return this._actualCursorPos=l.length,l+n}parseRxmask([...t]){const{rxmask:s}=this.options;let i="";const o=s.filter(t=>t.match(/\[.*\]/));let e=0;for(;t.length>0&&e<t.length;)t[e].match(new RegExp(o[e]))?(i+=t[e],e++):(t.shift(),this._actualCursorPos>e&&this._actualCursorPos--);return i}getOutput([...t]){const{rxmask:s,showMask:i,placeholderSymbol:o,trailing:e}=this.options;this._finalCursorPos=0;let r="";const n=0===t.length,l=s.filter(t=>t.match(/\[.*\]/)).length===t.length;let a=!1;for(let u=0;u<s.length;u++)if(s[u].match(/\[.*\]/)){if(t.length>0)r+=t.shift();else{if(!(i>u))break;r+=o,a=!0}this._actualCursorPos>0&&this._finalCursorPos++,this._actualCursorPos--}else{if(!(i>u||t.length>0||(e||l)&&!a&&!this._isRemovingSymbols))break;r+=s[u],(!a&&n&&i>u||this._actualCursorPos>0||e&&0===this._actualCursorPos&&!this._isRemovingSymbols)&&this._finalCursorPos++}return r}strToRxmask(t){return(t||"").match(/(\[.*?\])|(.)/g)||[]}parseNull(t){return null===t?void 0:t}}!function(){const t=document.getElementsByClassName("rxmask");for(let s=0;s<t.length;s++){const i=t[s],e=new o({},i);i.oninput=()=>e.onInput()}}()}]);