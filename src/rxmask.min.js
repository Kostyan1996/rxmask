!function(t){var s={};function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)o.d(e,i,function(s){return t[s]}.bind(null,i));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="",o(o.s=0)}([function(t,s,o){"use strict";o.r(s),o.d(s,"default",(function(){return e}));class e{constructor(t={},s){this.options={mask:"",placeholderSymbol:"*",rxmask:[],value:"",cursorPos:0,allowedCharacters:".",showMask:0,trailing:!0},this._output="",this._prevValue="",this._isRemovingSymbols=!1,this._actualCursorPos=0,this._finalCursorPos=0,this.input=s,this.setOptions(t),this.input?this.onInput():this.parseMask()}get output(){return this._output}get finalCursorPos(){return this._finalCursorPos}setOptions({mask:t="",placeholderSymbol:s="*",rxmask:o="",allowedCharacters:e=".",showMask:i="0",trailing:r="true",value:n="",cursorPos:a=-1}){this.options.mask=t,this.options.placeholderSymbol=s,this.options.rxmask=this.strToRxmask(o),this.options.allowedCharacters=e,this.options.showMask="true"===i?1/0:Number(i),this.options.trailing="true"===r,this.options.value=n,this.options.cursorPos=a,0===this.options.rxmask.length&&(this.options.rxmask=this.options.mask.split("").map(t=>t===this.options.placeholderSymbol?"[^]":t))}parseOptionsFromInput(){this.input&&(this.options.mask=this.parseNull(this.input.getAttribute("mask"))||this.options.mask,this.options.placeholderSymbol=this.parseNull(this.input.getAttribute("placeholderSymbol"))||this.options.placeholderSymbol,this.options.rxmask=this.parseNull(this.input.getAttribute("rxmask"))?this.strToRxmask(this.input.getAttribute("rxmask")):this.options.rxmask,this.options.allowedCharacters=this.parseNull(this.input.getAttribute("allowedCharacters"))||this.options.allowedCharacters,this.options.showMask=null!==this.input.getAttribute("showMask")?"true"===this.input.getAttribute("showMask")?1/0:Number(this.input.getAttribute("showMask")):this.options.showMask,this.options.trailing=null!==this.input.getAttribute("trailing")?"true"===this.input.getAttribute("trailing"):this.options.trailing,this.options.value=this.parseNull(this.input.value),this.options.cursorPos=this.parseNull(this.input.selectionStart),0===this.options.rxmask.length&&(this.options.rxmask=this.options.mask.split("").map(t=>t===this.options.placeholderSymbol?"[^]":t)))}onInput(){this.parseOptionsFromInput(),this.parseMask(),this.input&&(this.input.value=this.output,this.input.setSelectionRange(this.finalCursorPos,this.finalCursorPos))}parseMask(){const t=this.parseOutMask(),s=this.parseRxmask(t);this._output=this.getOutput(s),this._prevValue=this._output}parseOutMask(){const{value:t,cursorPos:s,rxmask:o,placeholderSymbol:e,allowedCharacters:i}=this.options,r=t.length-this._prevValue.length;this._isRemovingSymbols=!(r>=0);let n=/./;try{n=new RegExp(i)}catch(t){console.error("Wrong regex for allowedCharacters!")}let a="";for(let i=s;i<t.length;i++)t[i]!==o[i-r]&&t[i]!==e&&t[i].match(n)&&(a+=t[i]);let l="";for(let i=0;i<s;i++)t[i]!==o[i]&&t[i]!==e&&t[i].match(n)&&l.length<o.filter(t=>t.match(/\[.*\]/)).length-a.length&&(l+=t[i]);return this._actualCursorPos=l.length,l+a}parseRxmask([...t]){const{rxmask:s}=this.options;let o="";const e=s.filter(t=>t.match(/\[.*\]/));let i=0;for(;t.length>0&&i<t.length;){let s=/./;try{s=new RegExp(e[i])}catch(t){console.error("Wrong regex for rxmask!")}t[i].match(s)?(o+=t[i],i++):(t.shift(),this._actualCursorPos>i&&this._actualCursorPos--)}return o}getOutput([...t]){const{rxmask:s,showMask:o,placeholderSymbol:e,trailing:i}=this.options;this._finalCursorPos=0;let r="";const n=0===t.length,a=s.filter(t=>t.match(/\[.*\]/)).length===t.length;let l=!1;for(let u=0;u<s.length;u++)if(s[u].match(/\[.*\]/)){if(t.length>0)r+=t.shift();else{if(!(o>u))break;r+=e,l=!0}this._actualCursorPos>0&&this._finalCursorPos++,this._actualCursorPos--}else{if(!(o>u||t.length>0||(i||a)&&!l&&!this._isRemovingSymbols))break;r+=s[u],(!l&&n&&o>u||this._actualCursorPos>0||i&&0===this._actualCursorPos&&!this._isRemovingSymbols)&&this._finalCursorPos++}return r}strToRxmask(t){return(t||"").match(/(\[.*?\])|(.)/g)||[]}parseNull(t){return null===t?void 0:t}}!function(){const t=document.getElementsByClassName("rxmask");for(let s=0;s<t.length;s++){const o=t[s],i=new e({},o);o.oninput=()=>i.onInput()}}()}]);