!function(t){var e={};function s(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(r,o,function(e){return t[e]}.bind(null,o));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return r})),s.d(e,"onInput",(function(){return o}));class r{constructor(){this.mask="",this.placeholderSymbol="",this.rxmask=[],this.allowedCharacters=".",this.showMask=0,this.value="",this.cursorPos=0,this._output="",this._prevValue="",this._isRemovingSymbols=!1,this._actualCursorPos=0}get output(){return this._output}parseMask(){0===this.rxmask.length&&(this.rxmask=this.mask.split("").map(t=>t===this.placeholderSymbol?"[^]":t));const t=this.parseOutMask(),e=this.parseRxmask(t);this._output=this.getOutput(e),this._prevValue=this._output}parseOutMask(){const t=this.value.length-this._prevValue.length;this._isRemovingSymbols=!(t>=0);let e="";for(let s=this.cursorPos;s<this.value.length;s++)this.value[s]!==this.rxmask[s-t]&&this.value[s]!==this.placeholderSymbol&&this.value[s].match(this.allowedCharacters)&&(e+=this.value[s]);let s="";for(let t=0;t<this.cursorPos;t++)this.value[t]!==this.rxmask[t]&&this.value[t]!==this.placeholderSymbol&&this.value[t].match(this.allowedCharacters)&&s.length<this.rxmask.filter(t=>t.match(/\[.*\]/)).length-e.length&&(s+=this.value[t]);return this._actualCursorPos=s.length,s+e}parseRxmask([...t]){let e="";const s=this.rxmask.filter(t=>t.match(/\[.*\]/));let r=0;for(;t.length>0&&r<t.length;)t[r].match(new RegExp(s[r]))?(e+=t[r],r++):(t.shift(),this._actualCursorPos>r&&this._actualCursorPos--);return e}getOutput([...t]){this.cursorPos=0;let e="";const s=0===t.length;let r=!1;for(let o=0;o<this.rxmask.length;o++)if(this.rxmask[o].match(/\[.*\]/)){if(t.length>0)e+=t.shift();else{if(!(this.showMask>o))break;e+=this.placeholderSymbol,r=!0}this._actualCursorPos>0&&this.cursorPos++,this._actualCursorPos--}else{if(!(this.showMask>o||t.length>0||!r&&!this._isRemovingSymbols))break;e+=this.rxmask[o],(!r&&s&&this.showMask>o||this._actualCursorPos>0||0===this._actualCursorPos&&!this._isRemovingSymbols)&&this.cursorPos++}return e}}function o(t,e){e.mask=t.getAttribute("mask")||"",e.placeholderSymbol=t.getAttribute("placeholderSymbol")||"*",e.rxmask=(t.getAttribute("rxmask")||"").match(/(\[.*?\])|(.)/g)||[],e.allowedCharacters=t.getAttribute("allowedCharacters")||".",e.showMask="true"===t.getAttribute("showMask")?1/0:Number(t.getAttribute("showMask")),e.value=t.value,e.cursorPos=t.selectionStart,e.parseMask(),t.value=e.output,t.setSelectionRange(e.cursorPos,e.cursorPos)}!function(){const t=document.getElementsByClassName("rxmask");for(let e=0;e<t.length;e++){const s=t[e],a=new r;o(s,a),s.oninput=()=>o(s,a)}}()}]);